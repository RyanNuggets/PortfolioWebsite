<!-- clients.html (FULL FILE) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clients – Nuggets Customs</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="page-layout">
  <!-- NAVBAR -->
  <nav class="navbar fade-in">
    <div class="nav-inner">
      <a href="/" class="nav-home">
        <img src="images/logo2.png" alt="Navbar Logo" class="nav-logo">
      </a>

      <span class="divider"></span>
      <a href="/about" class="nav-link">About</a>

      <span class="divider"></span>
      <a href="/clients" class="nav-link">Clients</a>

      <span class="divider"></span>
      <a href="/past-work" class="nav-link">Past Work</a>

      <span class="divider"></span>
      <a href="/contact" class="nav-link">Contact</a>
    </div>
  </nav>

  <!-- CONTENT -->
  <main class="page-content fade-in">
    <section class="clients">
      <div class="clients-shell">
        <!-- ✅ removed the checkmark icon -->

        <h1 class="clients-title">What our clients say</h1>
        <p class="clients-sub">Placeholder text — replace with your own later. Lorem ipsum dolor sit amet.</p>

        <!-- Carousel viewport -->
        <div class="reviews-viewport" id="reviewsViewport" aria-label="Client reviews carousel">
          <div class="reviews-track" id="reviewsTrack">

            <!-- Review card (repeat as many as you want) -->
            <article class="review-card" tabindex="0" role="button"
              data-name="awesome_choice"
              data-role="Server Owner"
              data-quote="&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&quot;">
              <p class="review-quote">
                “Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore…
                <span class="review-em">quality and attention to detail</span> …ut enim ad minim veniam.”
              </p>
              <div class="review-divider"></div>
              <div class="review-meta">
                <div class="review-name">awesome_choice</div>
                <div class="review-role">Server Owner</div>
              </div>
            </article>

            <article class="review-card" tabindex="0" role="button"
              data-name="SomeRandomDude"
              data-role="2k+ member server owner"
              data-quote="&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque posuere, metus at posuere fringilla, turpis elit luctus mi, at dignissim neque mi id nulla. Integer sit amet nibh eu massa fermentum.&quot;">
              <p class="review-quote">
                “Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque posuere, metus at posuere fringilla…
                Everything got done <span class="review-em">really fast</span>.”
              </p>
              <div class="review-divider"></div>
              <div class="review-meta">
                <div class="review-name">SomeRandomDude</div>
                <div class="review-role">2k+ member server owner</div>
              </div>
            </article>

            <article class="review-card" tabindex="0" role="button"
              data-name="kbear948"
              data-role="Server Owner"
              data-quote="&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean interdum, orci in commodo egestas, augue mi tempor nulla, non faucibus nisl sem sed metus. Pellentesque habitant morbi tristique.&quot;">
              <p class="review-quote">
                “Lorem ipsum dolor sit amet… I can’t stress enough how much these guys knocked it out of the park with
                <span class="review-em">quality and attention to detail</span>.”
              </p>
              <div class="review-divider"></div>
              <div class="review-meta">
                <div class="review-name">kbear948</div>
                <div class="review-role">Server Owner</div>
              </div>
            </article>

            <article class="review-card" tabindex="0" role="button"
              data-name="NeonPilot"
              data-role="Community Manager"
              data-quote="&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus vel elit a neque suscipit convallis. Nulla facilisi. Morbi at sapien eget urna vulputate bibendum.&quot;">
              <p class="review-quote">
                “Lorem ipsum dolor sit amet… super clean, super consistent. We’ll be back for more.”
              </p>
              <div class="review-divider"></div>
              <div class="review-meta">
                <div class="review-name">NeonPilot</div>
                <div class="review-role">Community Manager</div>
              </div>
            </article>

            <article class="review-card" tabindex="0" role="button"
              data-name="VantaStudio"
              data-role="Server Owner"
              data-quote="&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium.&quot;">
              <p class="review-quote">
                “Lorem ipsum dolor sit amet… premium look, great communication, delivered exactly what we wanted.”
              </p>
              <div class="review-divider"></div>
              <div class="review-meta">
                <div class="review-name">VantaStudio</div>
                <div class="review-role">Server Owner</div>
              </div>
            </article>

          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="footer-strip">
    <div class="footer-divider"></div>
    <div class="footer-inner">
      <img src="images/logo2.png" class="footer-logo" alt="Footer Logo">
      <p class="footer-text">Copyright © 2026 Nuggets Customs. All rights reserved.</p>
    </div>
  </footer>

  <!-- EXPAND MODAL -->
  <div class="review-modal" id="reviewModal" aria-hidden="true">
    <div class="review-modal-backdrop" id="reviewModalBackdrop"></div>

    <div class="review-modal-card" role="dialog" aria-modal="true" aria-label="Expanded review">
      <button class="review-modal-close" id="reviewModalClose" aria-label="Close">×</button>
      <div class="review-modal-quote" id="reviewModalQuote"></div>
      <div class="review-modal-divider"></div>
      <div class="review-modal-meta">
        <div class="review-modal-name" id="reviewModalName"></div>
        <div class="review-modal-role" id="reviewModalRole"></div>
      </div>
    </div>
  </div>

  <!-- CAROUSEL + MODAL JS (FULL FIXED) -->
  <script>
    const viewport = document.getElementById("reviewsViewport");
    const track = document.getElementById("reviewsTrack");

    // Duplicate items for seamless infinite loop
    const originalHTML = track.innerHTML;
    track.insertAdjacentHTML("beforeend", originalHTML);

    const reduceMotion =
      window.matchMedia &&
      window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    // Auto-scroll settings
    const SPEED = 0.55;
    let pauseAuto = false;
    let resumeTimer = null;
    let isHovering = false;
    let started = false;

    function getHalf() {
      return track.scrollWidth / 2;
    }

    function loopFix() {
      const half = getHalf();
      if (!half) return;

      if (viewport.scrollLeft >= half) viewport.scrollLeft -= half;
      if (viewport.scrollLeft < 0) viewport.scrollLeft += half;
    }

    function scheduleResume() {
      clearTimeout(resumeTimer);
      resumeTimer = setTimeout(() => {
        pauseAuto = false;
      }, 1000);
    }

    function markManualInteraction() {
      pauseAuto = true;
      scheduleResume();
    }

    // Start in the middle for a nicer look
    function startInMiddle() {
      if (started) return;
      started = true;

      const half = getHalf();
      viewport.scrollLeft = Math.max(0, Math.floor(half * 0.35));
    }

    window.addEventListener("load", () => {
      startInMiddle();
      loopFix();
    });

    // Auto-scroll loop
    function tick() {
      if (!reduceMotion) {
        if (!started && track.scrollWidth) startInMiddle();

        if (!pauseAuto) {
          viewport.scrollLeft += SPEED;
          loopFix();
        }
      }
      requestAnimationFrame(tick);
    }
    requestAnimationFrame(tick);

    viewport.addEventListener("mouseenter", () => { isHovering = true; });
    viewport.addEventListener("mouseleave", () => { isHovering = false; });

    // Manual intent detection
    viewport.addEventListener("pointerdown", markManualInteraction, { passive: true });
    viewport.addEventListener("touchstart", markManualInteraction, { passive: true });

    // Wheel -> horizontal ONLY when hovering carousel
    viewport.addEventListener("wheel", (e) => {
      if (!isHovering) return;

      markManualInteraction();

      const delta = (Math.abs(e.deltaX) > Math.abs(e.deltaY)) ? e.deltaX : e.deltaY;
      viewport.scrollLeft += delta * 1.75;
      loopFix();

      e.preventDefault();
    }, { passive: false });

    // Keep loop seamless for any kind of scroll
    viewport.addEventListener("scroll", () => {
      loopFix();
    }, { passive: true });

    // ===== Modal (expand review) =====
    const modal = document.getElementById("reviewModal");
    const modalBackdrop = document.getElementById("reviewModalBackdrop");
    const modalClose = document.getElementById("reviewModalClose");
    const modalQuote = document.getElementById("reviewModalQuote");
    const modalName = document.getElementById("reviewModalName");
    const modalRole = document.getElementById("reviewModalRole");

    let lastFocus = null;

    function openModalFromCard(card) {
      lastFocus = document.activeElement;

      modalQuote.innerHTML = card.getAttribute("data-quote") || "";
      modalName.textContent = card.getAttribute("data-name") || "";
      modalRole.textContent = card.getAttribute("data-role") || "";

      modal.classList.add("open");
      modal.setAttribute("aria-hidden", "false");
      modalClose.focus();
    }

    function closeModal() {
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden", "true");
      if (lastFocus && lastFocus.focus) lastFocus.focus();
    }

    track.addEventListener("click", (e) => {
      const card = e.target.closest(".review-card");
      if (!card) return;
      openModalFromCard(card);
    });

    track.addEventListener("keydown", (e) => {
      const card = e.target.closest(".review-card");
      if (!card) return;
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        openModalFromCard(card);
      }
    });

    modalBackdrop.addEventListener("click", closeModal);
    modalClose.addEventListener("click", closeModal);

    document.addEventListener("keydown", (e) => {
      if (!modal.classList.contains("open")) return;
      if (e.key === "Escape") closeModal();
    });
  </script>
</body>
</html>
